/* Copyright 2017 Wunder
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

#include <stdint.h>
#include "keycodes.h"
#include "quantum_keycodes.h"
#include QMK_KEYBOARD_H
#include "config.h"
#include "keyboard.h"
#include "keymap_german.h"
#include "features/custom_shift_keys.h"

enum layer_names { _DE, _NAV, _NUM, _FN };

#define M_ESC LT(_NAV, KC_ESC)

// clang-format off
const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
//    ┌────────┬──────┬─────┬─────┬──────┬─────┬─────────┬───────┬─────┬─────┬─────┬──────┬──────────┬──────┬───────┐
//    │  ^ °   │ 1 !  │ 2 " │ 3 § │ 4 $  │ 5 % │   6 &   │  esc  │ 7 / │ 8 ( │ 9 ) │ 0 =  │   ß ?    │ ´ `  │ <-del │
//    ├────────┼──────┼─────┼─────┼──────┼─────┼─────────┼───────┼─────┼─────┼─────┼──────┼──────────┼──────┼───────┤
//    │  tab   │  Q   │  W  │  E  │  R   │  T  │   / ~   │ | bsl │  Z  │  U  │  I  │  O   │    P     │  Ü   │  + *  │
//    ├────────┼──────┼─────┼─────┼──────┼─────┼─────────┼───────┼─────┼─────┼─────┼──────┼──────────┼──────┼───────┤
//    │ nv_esc │  A   │  S  │  D  │  F   │  G  │   [ {   │  ] }  │  H  │  J  │  K  │  L   │    Ö     │  Ä   │  ent  │
//    ├────────┼──────┼─────┼─────┼──────┼─────┼─────────┼───────┼─────┼─────┼─────┼──────┼──────────┼──────┼───────┤
//    │  lsft  │  Y   │  X  │  C  │  V   │  B  │   ( <   │  ) >  │  N  │  M  │ , ; │ . :  │   - _    │ # '  │ rsft  │
//    ├────────┼──────┼─────┼─────┼──────┼─────┼─────────┼───────┼─────┼─────┼─────┼──────┼──────────┼──────┼───────┤
//    │  lctl  │ lgui │ csa │     │ lalt │ spc │ MO(_FN) │ <-del │ spc │     │     │ ralt │ TT(_NUM) │ rgui │ rctl  │
//    └────────┴──────┴─────┴─────┴──────┴─────┴─────────┴───────┴─────┴─────┴─────┴──────┴──────────┴──────┴───────┘
[_DE] = LAYOUT_ortho_5x15(
  DE_CIRC , DE_1    , DE_2   , DE_3    , DE_4    , DE_5   , DE_6    , KC_ESC  , DE_7   , DE_8    , DE_9    , DE_0    , DE_SS    , DE_ACUT , KC_BSPC,
  KC_TAB  , DE_Q    , DE_W   , DE_E    , DE_R    , DE_T   , DE_SLSH , DE_PIPE , DE_Z   , DE_U    , DE_I    , DE_O    , DE_P     , DE_UDIA , DE_PLUS,
  M_ESC   , DE_A    , DE_S   , DE_D    , DE_F    , DE_G   , DE_LBRC , DE_RBRC , DE_H   , DE_J    , DE_K    , DE_L    , DE_ODIA  , DE_ADIA , KC_ENT ,
  KC_LSFT , DE_Y    , DE_X   , DE_C    , DE_V    , DE_B   , DE_LPRN , DE_RPRN , DE_N   , DE_M    , DE_COMM , DE_DOT  , DE_MINS  , DE_HASH , KC_RSFT,
  KC_LCTL , KC_LGUI , KC_MEH , _______ , KC_LALT , KC_SPC , MO(_FN) , KC_BSPC , KC_SPC , _______ , _______ , KC_RALT , TT(_NUM) , KC_RGUI , KC_RCTL
),

//    ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬──────┬──────┬──────┬──────┬─────┬─────┬─────┐
//    │     │ f1  │ f2  │ f3  │ f4  │ f5  │ f6  │     │  f7  │  f8  │  f9  │ f10  │ f11 │ f12 │     │
//    ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┼──────┼──────┼──────┼──────┼─────┼─────┼─────┤
//    │     │     │     │     │     │     │     │     │      │      │      │      │     │     │     │
//    ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┼──────┼──────┼──────┼──────┼─────┼─────┼─────┤
//    │     │     │     │     │     │     │     │     │ left │ down │  up  │ rght │     │     │     │
//    ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┼──────┼──────┼──────┼──────┼─────┼─────┼─────┤
//    │     │     │     │     │     │     │     │     │ end  │ pgdn │ pgup │ home │     │     │     │
//    ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼─────┼──────┼──────┼──────┼──────┼─────┼─────┼─────┤
//    │     │     │     │     │     │     │     │     │      │      │      │      │     │     │     │
//    └─────┴─────┴─────┴─────┴─────┴─────┴─────┴─────┴──────┴──────┴──────┴──────┴─────┴─────┴─────┘
[_NAV] = LAYOUT_ortho_5x15(
  _______ , KC_F1   , KC_F2   , KC_F3   , KC_F4   , KC_F5   , KC_F6   , _______ , KC_F7   , KC_F8   , KC_F9   , KC_F10   , KC_F11  , KC_F12  , _______,
  _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______  , _______ , _______ , _______,
  _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , KC_LEFT , KC_DOWN , KC_UP   , KC_RIGHT , _______ , _______ , _______,
  _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , KC_END  , KC_PGDN , KC_PGUP , KC_HOME  , _______ , _______ , _______,
  _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______  , _______ , _______ , _______
),

//    ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬────────┬──────┬──────┬──────┬────────┬─────┬─────┬─────┐
//    │     │     │     │     │     │     │     │        │ kp_7 │ kp_8 │ kp_9 │        │     │     │     │
//    ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼────────┼──────┼──────┼──────┼────────┼─────┼─────┼─────┤
//    │     │     │     │     │     │     │     │  ASTR  │ kp_4 │ kp_5 │ kp_6 │  - _   │     │     │     │
//    ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼────────┼──────┼──────┼──────┼────────┼─────┼─────┼─────┤
//    │     │     │     │     │     │     │     │  / ~   │ kp_1 │ kp_2 │ kp_3 │  + *   │     │     │     │
//    ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼────────┼──────┼──────┼──────┼────────┼─────┼─────┼─────┤
//    │     │     │     │     │     │     │     │ kp_ent │ kp_0 │ , ;  │ kp_. │ kp_ent │     │     │     │
//    ├─────┼─────┼─────┼─────┼─────┼─────┼─────┼────────┼──────┼──────┼──────┼────────┼─────┼─────┼─────┤
//    │     │     │     │     │     │     │     │        │      │      │      │        │     │     │     │
//    └─────┴─────┴─────┴─────┴─────┴─────┴─────┴────────┴──────┴──────┴──────┴────────┴─────┴─────┴─────┘
[_NUM] = LAYOUT_ortho_5x15(
  _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , KC_P7   , KC_P8   , KC_P9   , _______ , _______ , _______ , _______,
  _______ , _______ , _______ , _______ , _______ , _______ , _______ , DE_ASTR , KC_P4   , KC_P5   , KC_P6   , DE_MINS , _______ , _______ , _______,
  _______ , _______ , _______ , _______ , _______ , _______ , _______ , DE_SLSH , KC_P1   , KC_P2   , KC_P3   , DE_PLUS , _______ , _______ , _______,
  _______ , _______ , _______ , _______ , _______ , _______ , _______ , KC_PENT , KC_P0   , DE_COMM , KC_PDOT , KC_PENT , _______ , _______ , _______,
  _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______ , _______
),

//    ┌──────┬──────┬─────────┬──────┬──────────┬─────────┬─────┬─────┬─────┬────────┬────────┬─────────┬──────┬──────┬──────┐
//    │      │  f1  │   f2    │  f3  │    f4    │   f5    │ f6  │     │ f7  │   f8   │   f9   │   f10   │ f11  │ f12  │      │
//    ├──────┼──────┼─────────┼──────┼──────────┼─────────┼─────┼─────┼─────┼────────┼────────┼─────────┼──────┼──────┼──────┤
//    │ msel │ calc │  comp   │ mail │ RGB_HUD  │ RGB_HUI │     │     │     │   -    │        │         │ pscr │ sCRL │ paus │
//    ├──────┼──────┼─────────┼──────┼──────────┼─────────┼─────┼─────┼─────┼────────┼────────┼─────────┼──────┼──────┼──────┤
//    │ mprv │ mply │  mnxt   │ mstp │ RGB_SAD  │ RGB_SAI │     │     │     │   +    │        │ QK_BOOT │      │      │      │
//    ├──────┼──────┼─────────┼──────┼──────────┼─────────┼─────┼─────┼─────┼────────┼────────┼─────────┼──────┼──────┼──────┤
//    │ vold │ mute │  volu   │ app  │ RGB_VAD  │ RGB_VAI │     │     │     │ kp_ent │        │         │      │      │      │
//    ├──────┼──────┼─────────┼──────┼──────────┼─────────┼─────┼─────┼─────┼────────┼────────┼─────────┼──────┼──────┼──────┤
//    │      │      │ RGB_TOG │      │ RGB_RMOD │ RGB_MOD │     │     │     │ kp_ent │ kp_ent │         │      │      │      │
//    └──────┴──────┴─────────┴──────┴──────────┴─────────┴─────┴─────┴─────┴────────┴────────┴─────────┴──────┴──────┴──────┘
[_FN] = LAYOUT_ortho_5x15(
  _______ , KC_F1   , KC_F2   , KC_F3   , KC_F4    , KC_F5   , KC_F6   , _______ , KC_F7   , KC_F8   , KC_F9   , KC_F10  , KC_F11  , KC_F12  , _______,
  KC_MSEL , KC_CALC , KC_MYCM , KC_MAIL , RGB_HUD  , RGB_HUI , _______ , _______ , _______ , KC_MINS , _______ , _______ , KC_PSCR , KC_SCRL , KC_PAUS,
  KC_MPRV , KC_MPLY , KC_MNXT , KC_MSTP , RGB_SAD  , RGB_SAI , _______ , _______ , _______ , KC_PLUS , _______ , QK_BOOT , _______ , _______ , _______,
  KC_VOLD , KC_MUTE , KC_VOLU , KC_APP  , RGB_VAD  , RGB_VAI , _______ , _______ , _______ , KC_PENT , _______ , _______ , _______ , _______ , _______,
  _______ , _______ , RGB_TOG , _______ , RGB_RMOD , RGB_MOD , _______ , _______ , _______ , KC_PENT , KC_PENT , _______ , _______ , _______ , _______
)
};
// clang-format on

const custom_shift_key_t custom_shift_keys[] = {
    {DE_SLSH, DE_TILD}, // "/ ~"
    {DE_PIPE, DE_BSLS}, // "| bsl"
    {DE_LBRC, DE_LCBR}, // "[ {"
    {DE_RBRC, DE_RCBR}, // "] }"
    {DE_LPRN, DE_LABK}, // "( <"
    {DE_RPRN, DE_RABK}, // ") >"
    {KC_BSPC, KC_DEL},  // "<-del"
};
uint8_t NUM_CUSTOM_SHIFT_KEYS = sizeof(custom_shift_keys) / sizeof(custom_shift_key_t);
